<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Test | DefinitelyTyped</title>
	<meta name="description" content="The repository for high quality TypeScript type definitions." />
	<meta name="keywords" content="typescript, type, definition, declaration, repository, typing" />

	<meta name="generator" content="DocPad v6.64.0" />
	<link  rel="stylesheet" href="/styles/semantic.min.css" /><link  rel="stylesheet" href="/styles/highlight.css" /><link  rel="stylesheet" href="/styles/style.css" />

	<link rel="shortcut icon" href="/favicon.ico" >
</head>
<body class="ui">
	<div class="outer">
	<!--[if lt IE 7]>
	<p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
	<![endif]-->

	<div class="ui one column grid">
		<div class="column centeroid">
			<div class="ui menu">
	<a class="item" href="/"><i class="home icon"></i> Home</a>
	<a class="item" href="/guides.html"><i class="wrench icon"></i> Guides</a>
	<a class="item" href="https://github.com/borisyankov/DefinitelyTyped"><i class="github icon"></i> Repository</a>
	<a class="item" href="http://www.tsdpm.com"><i class="terminal icon"></i> TSD</a>
	<a class="item" href="http://nuget.org/packages?q=DefinitelyTyped"><i class="download disk icon"></i> NuGet</a>
<!--
	<div class="right menu">
		<div class="item">
			<iframe src="http://ghbtns.com/github-btn.html?user=borisyankov&repo=DefinitelyTyped&type=watch&count=true"
					allowtransparency="true" frameborder="0" scrolling="0" width="95" height="20"></iframe>
			<iframe src="http://ghbtns.com/github-btn.html?user=borisyankov&repo=DefinitelyTyped&type=fork&count=true"
					allowtransparency="true" frameborder="0" scrolling="0" width="95" height="20"></iframe>
		</div>
	</div>
	-->
</div>
<div class="ui row">
	<a class="logo" href="/"><img src="/images/dt-logo-smallish.png" title="DefinitelyTyped"/></a>

	<h1 class="ui header">DefinitelyTyped</h1>
	<p>The repository for high quality TypeScript type definitions.</p>
</div>


			<div class="ui vertical segment">
	<h1>Test</h1>
</div>

<div class="ui vertical segment">
	<p>What?</p>
<pre><code class="lang-typescript"><span class="hljs-keyword">var</span> isDone: boolean = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">var</span> notSure: any = <span class="hljs-number">4</span>;
notSure = <span class="hljs-string">"maybe a string instead"</span>;
notSure = <span class="hljs-literal">false</span>; <span class="hljs-comment">// okay, definitely a boolean</span>
</code></pre>
<pre><code class="lang-typescript">enum Color {Red = <span class="hljs-number">1</span>, Green, Blue};
<span class="hljs-keyword">var</span> colorName: string = Color[<span class="hljs-number">2</span>];
</code></pre>
<pre><code class="lang-typescript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">warnUser</span><span class="hljs-params">()</span><span class="hljs-type">: void</span> {</span>
    alert(<span class="hljs-string">"This is my warning message"</span>);
}
</code></pre>
<pre><code class="lang-typescript"><span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">analise</span><span class="hljs-params">(header: Header)</span><span class="hljs-type">: any</span> {</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
}
</code></pre>
<pre><code class="lang-typescript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">printLabel</span><span class="hljs-params">(labelledObj: {label: string})</span> {</span>
  console.log(labelledObj.label);
}

<span class="hljs-keyword">var</span> myObj = {size: <span class="hljs-number">10</span>, label: <span class="hljs-string">"Size 10 Object"</span>};
printLabel(myObj);
</code></pre>
<pre><code class="lang-typescript"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">SquareConfig</span> {</span>
  color?: string;
  width?: number;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createSquare</span><span class="hljs-params">(config: SquareConfig)</span><span class="hljs-type">: {color</span><span class="hljs-type">: string</span>;</span> area: number} {
  <span class="hljs-keyword">var</span> newSquare = {color: <span class="hljs-string">"white"</span>, area: <span class="hljs-number">100</span>};
  <span class="hljs-keyword">if</span> (config.color) {
    newSquare.color = config.color;
  }
  <span class="hljs-keyword">if</span> (config.width) {
    newSquare.area = config.width * config.width;
  }
  <span class="hljs-keyword">return</span> newSquare;
}

<span class="hljs-keyword">var</span> mySquare = createSquare({color: <span class="hljs-string">"black"</span>});
</code></pre>
<pre><code class="lang-typescript"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Shape</span> {</span>
    color: string;
}

<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Square</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Shape</span> {</span>
    sideLength: number;
}
</code></pre>
<pre><code class="lang-typescript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Greeter</span> {</span>
    greeting: string;
    private _sender: string;
    constructor(message: string) {
        <span class="hljs-keyword">this</span>.greeting = message;
    }
    greet() {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Hello, "</span> + <span class="hljs-keyword">this</span>.greeting;
    }
}

<span class="hljs-keyword">var</span> greeter = <span class="hljs-keyword">new</span> Greeter(<span class="hljs-string">"world"</span>);
</code></pre>
<pre><code class="lang-typescript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Animal</span> {</span>
    name:string;
    constructor(theName: string) { <span class="hljs-keyword">this</span>.name = theName; }
    move(meters: number) {
        alert(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">" moved "</span> + meters + <span class="hljs-string">"m."</span>);
    }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Snake</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Animal</span> {</span>
    constructor(name: string) { super(name); }
    move() {
        alert(<span class="hljs-string">"Slithering..."</span>);
        super.move(<span class="hljs-number">5</span>);
    }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Horse</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Animal</span> {</span>
    constructor(name: string) { super(name); }
    move() {
        alert(<span class="hljs-string">"Galloping..."</span>);
        super.move(<span class="hljs-number">45</span>);
    }
}

<span class="hljs-keyword">var</span> sam = <span class="hljs-keyword">new</span> Snake(<span class="hljs-string">"Sammy the Python"</span>);
<span class="hljs-keyword">var</span> tom: Animal = <span class="hljs-keyword">new</span> Horse(<span class="hljs-string">"Tommy the Palomino"</span>);

sam.move();
tom.move(<span class="hljs-number">34</span>);
</code></pre>
<pre><code class="lang-typescript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Grid</span> {</span>
    static origin = {x: <span class="hljs-number">0</span>, y: <span class="hljs-number">0</span>};
    calculateDistanceFromOrigin(point: {x: number; y: number;}) {
        <span class="hljs-keyword">var</span> xDist = (point.x - Grid.origin.x);
        <span class="hljs-keyword">var</span> yDist = (point.y - Grid.origin.y);
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.sqrt(xDist * xDist + yDist * yDist) / <span class="hljs-keyword">this</span>.scale;
    }
    constructor (public scale: number) { }
}
</code></pre>
<pre><code class="lang-typescript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Point</span> {</span>
    x: number;
    y: number;
}

<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Point3d</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Point</span> {</span>
    z: number;
}

<span class="hljs-keyword">var</span> point3d: Point3d = {x: <span class="hljs-number">1</span>, y: <span class="hljs-number">2</span>, z: <span class="hljs-number">3</span>};
</code></pre>
<pre><code class="lang-typescript"><span class="hljs-comment">/// &lt;reference path="Validation.ts" /&gt;</span>
<span class="hljs-keyword">module</span> Validation {
    <span class="hljs-keyword">var</span> lettersRegexp = <span class="hljs-regexp">/^[A-Za-z]+$/</span>;
    <span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LettersOnlyValidator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">StringValidator</span> {</span>
        isAcceptable(s: string) {
            <span class="hljs-keyword">return</span> lettersRegexp.test(s);
        }
    }
}
</code></pre>
<pre><code class="lang-typescript"><span class="hljs-keyword">module</span> Validation {
    <span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">StringValidator</span> {</span>
        isAcceptable(s: string): boolean;
    }

    <span class="hljs-keyword">var</span> lettersRegexp = <span class="hljs-regexp">/^[A-Za-z]+$/</span>;
    <span class="hljs-keyword">var</span> numberRegexp = <span class="hljs-regexp">/^[0-9]+$/</span>;

    <span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LettersOnlyValidator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">StringValidator</span> {</span>
        isAcceptable(s: string) {
            <span class="hljs-keyword">return</span> lettersRegexp.test(s);
        }
    }

    <span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ZipCodeValidator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">StringValidator</span> {</span>
        isAcceptable(s: string) {
            <span class="hljs-keyword">return</span> s.length === <span class="hljs-number">5</span> &amp;&amp; numberRegexp.test(s);
        }
    }
}

<span class="hljs-comment">// Some samples to try</span>
<span class="hljs-keyword">var</span> strings = [<span class="hljs-string">'Hello'</span>, <span class="hljs-string">'98052'</span>, <span class="hljs-string">'101'</span>];
<span class="hljs-comment">// Validators to use</span>
<span class="hljs-keyword">var</span> validators: { [s: string]: Validation.StringValidator; } = {};
validators[<span class="hljs-string">'ZIP code'</span>] = <span class="hljs-keyword">new</span> Validation.ZipCodeValidator();
validators[<span class="hljs-string">'Letters only'</span>] = <span class="hljs-keyword">new</span> Validation.LettersOnlyValidator();
<span class="hljs-comment">// Show whether each string passed each validator</span>
strings.forEach(s =&gt; {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> name <span class="hljs-keyword">in</span> validators) {
        console.log(<span class="hljs-string">'"'</span> + s + <span class="hljs-string">'" '</span> + (validators[name].isAcceptable(s) ? <span class="hljs-string">' matches '</span> : <span class="hljs-string">' does not match '</span>) + name);
    }
});
</code></pre>
<pre><code class="lang-typescript"><span class="hljs-keyword">import</span> validation = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./Validation'</span>);
<span class="hljs-keyword">var</span> numberRegexp = <span class="hljs-regexp">/^[0-9]+$/</span>;
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ZipCodeValidator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">validation</span>.<span class="hljs-title">StringValidator</span> {</span>
    isAcceptable(s: string) {
        <span class="hljs-keyword">return</span> s.length === <span class="hljs-number">5</span> &amp;&amp; numberRegexp.test(s);
    }
}
</code></pre>
<pre><code class="lang-typescript"><span class="hljs-keyword">import</span> validation = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./Validation'</span>);
<span class="hljs-keyword">var</span> numberRegexp = <span class="hljs-regexp">/^[0-9]+$/</span>;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ZipCodeValidator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">validation</span>.<span class="hljs-title">StringValidator</span> {</span>
    isAcceptable(s: string) {
        <span class="hljs-keyword">return</span> s.length === <span class="hljs-number">5</span> &amp;&amp; numberRegexp.test(s);
    }
}
<span class="hljs-keyword">export</span> = ZipCodeValidator;
</code></pre>
<pre><code class="lang-typescript"><span class="hljs-keyword">module</span> Shapes {
    <span class="hljs-keyword">export</span> <span class="hljs-keyword">module</span> Polygons {
        <span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Triangle</span> {</span> }
        <span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Square</span> {</span> }
    }
}

<span class="hljs-keyword">import</span> polygons = Shapes.Polygons;
<span class="hljs-keyword">var</span> sq = <span class="hljs-keyword">new</span> polygons.Square(); <span class="hljs-comment">// Same as 'new Shapes.Polygons.Square()'</span>
</code></pre>
<pre><code class="lang-typescript"><span class="hljs-keyword">declare</span> <span class="hljs-keyword">var</span> <span class="hljs-built_in">require</span>;
<span class="hljs-keyword">import</span> Zip = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./ZipCodeValidator'</span>);
<span class="hljs-keyword">if</span> (needZipValidation) {
    <span class="hljs-keyword">var</span> x: <span class="hljs-keyword">typeof</span> Zip = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./ZipCodeValidator'</span>);
    <span class="hljs-keyword">if</span> (x.isAcceptable(<span class="hljs-string">'.....'</span>)) { <span class="hljs-comment">/* ... */</span> }
}
</code></pre>
<pre><code class="lang-typescript"><span class="hljs-keyword">declare</span> <span class="hljs-keyword">module</span> D3 {
    <span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Selectors</span> {</span>
        select: {
            (selector: string): Selection;
            (element: EventTarget): Selection;
        };
    }

    <span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Event</span> {</span>
        x: number;
        y: number;
    }

    <span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Base</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Selectors</span> {</span>
        event: Event;
    }
}

<span class="hljs-keyword">declare</span> <span class="hljs-keyword">var</span> d3: D3.Base;
</code></pre>
<pre><code class="lang-typescript"><span class="hljs-keyword">declare</span> <span class="hljs-keyword">module</span> <span class="hljs-string">"url"</span> {
    <span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Url</span> {</span>
        protocol?: string;
        hostname?: string;
        pathname?: string;
    }

    <span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parse</span><span class="hljs-params">(urlStr: string, parseQueryString?, slashesDenoteHost?)</span><span class="hljs-type">: Url</span>;</span>
}

<span class="hljs-keyword">declare</span> <span class="hljs-keyword">module</span> <span class="hljs-string">"path"</span> {
    <span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">normalize</span><span class="hljs-params">(p: string)</span><span class="hljs-type">: string</span>;</span>
    <span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">join</span><span class="hljs-params">(<span class="hljs-rest_arg">...paths</span>: any[])</span><span class="hljs-type">: string</span>;</span>
    <span class="hljs-keyword">export</span> <span class="hljs-keyword">var</span> sep: string;
}
</code></pre>
<pre><code class="lang-typescript"><span class="hljs-comment">///&lt;reference path="node.d.ts"&gt;</span>
<span class="hljs-keyword">import</span> url = <span class="hljs-built_in">require</span>(<span class="hljs-string">"url"</span>);
<span class="hljs-keyword">var</span> myUrl = url.parse(<span class="hljs-string">"http://www.typescriptlang.org"</span>);
</code></pre>
<pre><code class="lang-typescript"><span class="hljs-keyword">var</span> deck = {
    suits: [<span class="hljs-string">"hearts"</span>, <span class="hljs-string">"spades"</span>, <span class="hljs-string">"clubs"</span>, <span class="hljs-string">"diamonds"</span>],
    cards: <span class="hljs-built_in">Array</span>(<span class="hljs-number">52</span>),
    createCardPicker: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
            <span class="hljs-keyword">var</span> pickedCard = <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">52</span>);
            <span class="hljs-keyword">var</span> pickedSuit = <span class="hljs-built_in">Math</span>.floor(pickedCard / <span class="hljs-number">13</span>);

            <span class="hljs-keyword">return</span> {suit: <span class="hljs-keyword">this</span>.suits[pickedSuit], card: pickedCard % <span class="hljs-number">13</span>};
        }
    }
}

<span class="hljs-keyword">var</span> cardPicker = deck.createCardPicker();
<span class="hljs-keyword">var</span> pickedCard = cardPicker();

alert(<span class="hljs-string">"card: "</span> + pickedCard.card + <span class="hljs-string">" of "</span> + pickedCard.suit);
</code></pre>
<pre><code class="lang-typescript">interface Lengthwise {
    length: number;
}

function loggingIdentity&lt;T extends Lengthwise&gt;(arg: T): T {
    console.log(arg.length);  // Now we know it has a .length property, so no more error
    return arg;
}
</code></pre>
<pre><code class="lang-typescript"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Parameerised</span>&lt;<span class="hljs-title">T</span>&gt; {</span>
    value: T;
}
</code></pre>
<pre><code class="lang-typescript"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Parameterised</span>&lt;<span class="hljs-title">T</span>, <span class="hljs-title">U</span>&gt; {</span>
    value: T;
    value: U;
}
</code></pre>
<pre><code class="lang-typescript"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Parameterised</span>&lt;<span class="hljs-title">T</span>, <span class="hljs-title">U</span>&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title">Other</span>&lt;<span class="hljs-title">T</span>&gt; {</span>
    value: T;
    value: U;
}
</code></pre>
<pre><code class="lang-typescript">function find&lt;T, U extends Findable&lt;T&gt;&gt;(n: T, s: U) {   // errors because type parameter used in constraint
  // ...
}
find (giraffe, myAnimals);
</code></pre>
<pre><code class="lang-typescript">enum Color {
    red = <span class="hljs-number">1</span>,
    green = <span class="hljs-number">2</span>,
    blue = <span class="hljs-number">4</span>
}

<span class="hljs-keyword">module</span> Color {
    <span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mixColor</span><span class="hljs-params">(colorName: string)</span> {</span>
        <span class="hljs-keyword">if</span> (colorName == <span class="hljs-string">"yellow"</span>) {
            <span class="hljs-keyword">return</span> Color.red + Color.green;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (colorName == <span class="hljs-string">"white"</span>) {
            <span class="hljs-keyword">return</span> Color.red + Color.green + Color.blue;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (colorName == <span class="hljs-string">"magenta"</span>) {
            <span class="hljs-keyword">return</span> Color.red + Color.blue;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (colorName == <span class="hljs-string">"cyan"</span>) {
            <span class="hljs-keyword">return</span> Color.green + Color.blue;
        }
    }
}
</code></pre>
<pre><code class="lang-typescript"><span class="hljs-comment">///&lt;reference path="d3.d.ts" /&gt;</span>
<span class="hljs-pi">"use strict"</span>;

<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">IDataSeries</span> {</span>
    desc: string;
    data: IRun[];
}

<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">IRun</span> {</span>
    date: <span class="hljs-built_in">Date</span>;
    pass: boolean;
}

<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">IPerfDataSeries</span> {</span>
    desc: string;
    data: IPerfRun[];
}

<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">IPerfRun</span> {</span>
    x: <span class="hljs-built_in">Date</span>;
    y: number;
}

<span class="hljs-keyword">module</span> Chart {

    <span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Base</span> {</span>
        public iso8601 = d3.time.format(<span class="hljs-string">'%Y-%m-%d'</span>);
        public chartWidth = <span class="hljs-number">800</span>;

        constructor (public element) { }
    }

    <span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Bar</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Base</span> {</span>
        public element: ID3Selection;
        constructor(element: ID3Selection) {
            super(element);
            <span class="hljs-keyword">this</span>.element = element;
        }

        public chartHeight = <span class="hljs-number">400</span>;
        public chartWidth = <span class="hljs-number">800</span>;
        public legendItemHeight = <span class="hljs-number">30</span>;
        public legendWidth = <span class="hljs-number">150</span>;
        public colors = [<span class="hljs-string">'rgb(0, 113, 188)'</span>, <span class="hljs-string">'rgb(0, 174, 239)'</span>, <span class="hljs-string">'rgb(145, 0, 145)'</span>];
        public xAxisHashHeight = <span class="hljs-number">10</span>;
        public layout = <span class="hljs-string">'wiggle'</span>;


        public render(data: IPerfDataSeries[]) {

            <span class="hljs-comment">// Create stack layout</span>
            <span class="hljs-keyword">var</span> stackLayout = d3.layout.stack()
                                .values(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(d)</span> {</span> <span class="hljs-keyword">return</span> d.data })
                                .offset(<span class="hljs-keyword">this</span>.layout);

            <span class="hljs-keyword">var</span> stackData = stackLayout(data);

            <span class="hljs-comment">// Maximum measurement in the dataset</span>
            <span class="hljs-keyword">var</span> maxY = d3.max(stackData, (d) =&gt; d3.max&lt;any, any&gt;(d.data, (d) =&gt; d.y0 + d.y));

            <span class="hljs-comment">// Earliest day in the dataset</span>
            <span class="hljs-keyword">var</span> minX = d3.min(data, (d) =&gt; d3.min(d.data, (d) =&gt; d.x));

            <span class="hljs-comment">// All days in the dataset (from earliest day until now)</span>
            <span class="hljs-keyword">var</span> days = d3.time.days(minX, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>());

            <span class="hljs-comment">// Area of the region containing the bars</span>
            <span class="hljs-keyword">var</span> areaWidth = <span class="hljs-keyword">this</span>.chartWidth - <span class="hljs-keyword">this</span>.legendWidth;

            <span class="hljs-keyword">var</span> barWidth = areaWidth / days.length;

            <span class="hljs-comment">// Create scales for X and Y axis (X based on dates, Y based on performance data)</span>
            <span class="hljs-keyword">var</span> x = d3.time.scale()
                        .domain([minX, d3.time.day(d3.time.day.offset(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(), <span class="hljs-number">1</span>))])
                        .range([<span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.chartWidth - <span class="hljs-keyword">this</span>.legendWidth]);
            <span class="hljs-keyword">var</span> y = d3.scale.linear()
                        .domain([<span class="hljs-number">0</span>, maxY])
                        .range([<span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.chartHeight]);
            <span class="hljs-keyword">var</span> ticks = x.ticks(d3.time.mondays, <span class="hljs-number">1</span>);

            <span class="hljs-comment">// SVG element</span>
            <span class="hljs-keyword">var</span> svg = <span class="hljs-keyword">this</span>.element.append(<span class="hljs-string">'svg'</span>)
                        .attr(<span class="hljs-string">'height'</span>, <span class="hljs-keyword">this</span>.chartHeight + <span class="hljs-number">25</span>)
                        .attr(<span class="hljs-string">'width'</span>, <span class="hljs-keyword">this</span>.chartWidth);

            <span class="hljs-comment">// Groups that contain bar segments for each dataset</span>
            <span class="hljs-keyword">var</span> barGroups = svg.selectAll(<span class="hljs-string">'g.bars'</span>)
                    .data(stackData)
                .enter().append(<span class="hljs-string">'g'</span>)
                    .attr(<span class="hljs-string">'class'</span>, <span class="hljs-string">'bars'</span>)
                    .style(<span class="hljs-string">'fill'</span>, (d, i) =&gt; <span class="hljs-keyword">this</span>.colors[<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">number</span>&gt;</span>i])
                    .attr('transform', 'translate(' + this.legendWidth + ', 0)');

            // Legend
            var legendGroup = svg.append('g')
                    .attr('class', 'legend')

            // Legend items
            var legendItem = legendGroup.selectAll('g.legendItem')
                    .data(stackData)
               .enter().append('g')
                    .attr('class', 'legendItem')
                    .style('fill', (d, i) =&gt; this.colors[<span class="hljs-tag">&lt;<span class="hljs-title">number</span>&gt;</span>i])
                    .attr('transform', (d, i) =&gt; 'translate(0, ' + (this.legendItemHeight * (2 - i)) + ')');

            legendItem.append('rect')
                        .attr('width', 25)
                        .attr('height', 25);

            legendItem.append('text')
                .text((d) =&gt; d.desc)
                .attr('x', 30)
                .attr('dy', '1em');


            // Bars
            var rects = barGroups.selectAll('rect')
                            .data((d) =&gt; d.data)
                        .enter()
                            .append('rect')
                            .attr('x', (d, i) =&gt; x(d.x))
                            .attr('y', (d, i) =&gt; this.chartHeight - y(d.y + d.y0))
                            .attr('width', barWidth)
                            .attr('height', (d, i) =&gt; y(d.y));

            // Add title (mouseover popup) to bars
            rects.append('title')
                 .text((d) =&gt; this.iso8601(d.x) + ' - ' + d.y + 'ms');


            // Add an axis marker to the bottom
            var axis = d3.svg.axis();
            axis.scale(x)
                .ticks(d3.time.mondays, 1)
                .tickSubdivide(6)
                .tickFormat(this.iso8601)
                .tickSize(10, 5, 0);

            var axisGroup = svg.append('g')
                    .attr('class', 'axis')
                    .attr('transform', 'translate(' + this.legendWidth + ',' + this.chartHeight + ')')
                    .call(axis);

        }
    }

    export class DailyBuild extends Base {
        public element: ID3Selection;
        constructor (element: ID3Selection) {
            super(element);
            this.element = element;
        }

        public labelWidth = 140;
        public labelGutter = 10;
        public chartWidth = 800;

        private getTextDataString(data) {
            return data.pass ? 'pass' : 'fail';
        }

        public render(data: IDataSeries[]) {
            // Minimum date in the dataset
            var minDate = d3.min(data.map(function(d) { return d3.time.day(d.data[0].date) }));

            // All the days in the dataset, from min until now.
            var days = d3.time.days(minDate, new Date());

            var boxSize = (this.chartWidth - this.labelWidth - this.labelGutter) / days.length;

            // Create our scales for x and y axis
            var x = d3.time.scale()
                        .domain([minDate, d3.time.day(new Date())])
                        .range([0, boxSize * (days.length - 1)]);

            var y = d3.scale.linear()
                        .domain([0, 1])
                        .range([0, boxSize]);


            // SVG element
            var svg = this.element.append('svg')
                            .attr('height', y(data.length  + 1))
                            .attr('width', this.chartWidth);

            svg.selectAll('text')
               .data(data)
               .enter().append('text')
                   .attr('x', this.labelWidth)
                   .attr('transform', function(d, i) { return 'translate(0,' + y(i) + ')' })
                   .attr('dy', '1em')
                   .attr('text-anchor', 'end')
                   .text(function(d) { return d.desc });

            // Groups of boxes for updated builds
            var g = svg.selectAll('g.boxes')
                    .data(data)
                .enter().append('g')
                    .attr('class', 'boxes')
                    .attr('transform', function(d, i) { return 'translate(0,' + y(i) + ')' });

            // Boxes of build info
            var rects = g.selectAll('rect')
                    .data(function(d, i) { return d.data; })
                .enter().append('rect')
                    .attr('class', (d) =&gt; 'day ' + this.getTextDataString(d))
                    .attr('x', (d, i) =&gt; this.labelWidth + this.labelGutter + x(d.date))
                    .attr('width', boxSize)
                    .attr('height', boxSize);

            rects.append('title')
                 .text( (d) =&gt; this.iso8601(d.date) + ' - ' + this.getTextDataString(d) );

            var ticks = x.ticks(d3.time.mondays, 1);

            // Date text boxes
            svg.append('g').attr('class', 'dates').selectAll('text')
                    .data(ticks)
                    .enter().append('text')
                        .text((d) =&gt; this.iso8601(d) )
                        .attr('transform', (d, i) =&gt; 'translate(' + (this.labelWidth + this.labelGutter + x(d) + 5) + ', ' + y(data.length + 1) + ')')
                        .attr('text-anchor', 'start')

            // Vertical hashes at week boundaries
            svg.append('g').attr('class', 'hashes').selectAll('line')
                .data(ticks)
                .enter().append('line')
                    .attr('x1', (d) =&gt; this.labelWidth + this.labelGutter + x(d) )
                    .attr('x2', (d) =&gt; this.labelWidth + this.labelGutter + x(d) )
                    .attr('y1', 0)
                    .attr('y2', y(data.length + 1));

            return svg;
        }
    }
}

var start = d3.time.day.offset(new Date(), -30);
var end = new Date()
var days = d3.time.days(start, end);

var buildData: IRun[] = days.map(day =&gt; ({ date: day, pass: Math.random() &gt; 0.1 }));
var compilerTestData: IRun[] = days.map(day =&gt; ({ date: day, pass: Math.random() &gt; 0.1 }));
var servicesTestData: IRun[] = days.map(day =&gt; ({ date: day, pass: Math.random() &gt; 0.1 }));

function decreasingRandom(start: number, deviation: number, factor: number) {
    var factorRandom = d3.random.normal(factor, 0.05);

    return function () {
        var random = d3.random.normal(start, deviation)();
        start = start * factorRandom();

        return parseFloat(random.toFixed())
    }
}

var parseRandom = decreasingRandom(400, 20, 0.97);
var typecheckRandom = decreasingRandom(500, 20, 0.97);
var emitRandom = decreasingRandom(100, 10, 0.97);

var parseData: IPerfRun[] = days.map(day =&gt; ({ x: day, y: parseRandom() }));
var typecheckData: IPerfRun[] = days.map(day =&gt; ({ x: day, y: typecheckRandom() }));
var emitData: IPerfRun[] = days.map(day =&gt; ({ x: day, y: emitRandom() }));

document.addEventListener('DOMContentLoaded', function () {
    var chart = new Chart.DailyBuild(d3.select('#passchart'));

    chart.render([
        { desc: "Build Status", data: buildData },
        { desc: "Compiler Tests", data: compilerTestData },
        { desc: "Services Tests", data: servicesTestData },
    ]);

    var normalizedData = [
        { desc: 'Emit', data: emitData },
        { desc: 'Typecheck', data: typecheckData },
        { desc: 'Parse', data: parseData }
    ]

    var perfchart = new Chart.Bar(d3.select('#performanceChart'));
    perfchart.render(normalizedData);
});</span>
</code></pre>
<pre><code class="lang-typescript"><span class="hljs-comment">// foo</span>
</code></pre>
<pre><code class="lang-typescript"><span class="hljs-comment">// foo</span>
</code></pre>

</div>

<ul class="ui list">
	
	<a class="item" href="/guides/best-practices.html"><i class="right triangle icon"></i> Best practices</a>
	
	
	<a class="item" href="/guides/pull-request.html"><i class="right triangle icon"></i> Pull Requests</a>
	
	
	<a class="item" href="/guides/tools.html"><i class="right triangle icon"></i> TypeScript tools</a>
	
	
	<a class="item" href="/guides/contributing.html"><i class="right triangle icon"></i> Contribution guide</a>
	
	
	<a class="item" href="/guides/learn.html"><i class="right triangle icon"></i> Learn TypeScript</a>
	
	
	<a class="item" href="/guides/creating.html"><i class="right triangle icon"></i> Creating a definition file</a>
	
	
</ul>

			<div class="ui horizontal icon divider">
	<i class="heart icon"></i>
</div>

<div class="ui center aligned one column grid">
	<div class="row">
		<div class="column">
			<a href="/">Home</a>
			- <a href="https://github.com/borisyankov/DefinitelyTyped">Github</a>
			- <a href="http://www.tsdpm.com">TSD</a>
			- <a href="http://nuget.org/packages?q=DefinitelyTyped">NuGet</a>
		</div>
	</div>
</div>

		</div>
	</div>
</div>
	<script defer="defer"  src="//ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script><script defer="defer"  src="/scripts/semantic.min.js"></script><script defer="defer"  src="/scripts/script.js"></script>
	<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-47495295-3', 'definitelytyped.github.io');
	ga('send', 'pageview');

</script>


</body>
</html>
